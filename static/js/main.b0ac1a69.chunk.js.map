{"version":3,"sources":["context/index.js","components/DeleteFilters.js","components/Order.js","components/FilterNumericValues.js","components/FilterPlanetsInput.js","components/Planets.js","components/TableBody.js","components/TableHeader.js","components/Table.js","pages/HomePage.js","context/Provider.js","App.js","index.js"],"names":["MyContext","createContext","DeleteFilters","useContext","filterContext","filters","filterByNumericValues","setFilterByNumericValues","handleClick","name","target","deleteFilters","filter","fil","column","map","comparison","value","key","data-testid","onClick","type","Order","planets","state","results","order","setOrder","result","handleOrder","isNumeric","test","sort","a","b","localeCompare","onChange","Object","keys","planetInfo","FilterNumericValues","setColumn","setComparison","setValue","numericValues","columns","useState","col","setCol","handleChange","c","comp","colun","newColumns","coluna","filterColumns","FilterPlanetsByInput","setName","filterByName","Planets","rotation_period","orbital_period","diameter","climate","gravity","terrain","surface_water","population","films","created","edited","url","TableBody","planet","toLowerCase","includes","length","reduce","accumulator","current","Number","TableHeader","Table","loading","HomePage","Provider","children","setState","setLoading","setResult","useEffect","fetch","then","res","json","response","swPlanets","App","basename","process","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b0ac1a69.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst MyContext = createContext();\n\nexport default MyContext;\n","import React, { useContext } from 'react';\nimport MyContext from '../context';\n\nexport default function DeleteFilters() {\n  const { filterContext:\n    { filters:\n      { filterByNumericValues, setFilterByNumericValues } } } = useContext(MyContext);\n\n  const handleClick = ({ target: { name } }) => {\n    const deleteFilters = filterByNumericValues.filter((fil) => fil.column !== name);\n    setFilterByNumericValues(deleteFilters);\n  };\n\n  const deleteFilter = () => {\n    const xablau = 'X';\n    return filterByNumericValues.map(({ column, comparison, value }) => (\n      <div key={ value } data-testid=\"filter\">\n        <p key={ value }>\n          {`${column} ${comparison} ${value}`}\n        </p>\n        <button\n          name={ column }\n          onClick={ handleClick }\n          type=\"button\"\n        >\n          { xablau }\n        </button>\n      </div>\n    ));\n  };\n\n  return (\n    <div>\n      { filterByNumericValues ? deleteFilter() : null }\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport MyContext from '../context';\n\nexport default function Order() {\n  const { state: { results: planets } } = useContext(MyContext);\n\n  const { filterContext:\n    { filters:\n      { order, setOrder, result: { results } } } } = useContext(MyContext);\n\n  const handleOrder = ({ target: { name, value } }) => {\n    setOrder({\n      ...order,\n      [name]: value,\n    });\n  };\n\n  const isNumeric = (value) => /^-?\\d+$/.test(value);\n  // https://stackoverflow.com/questions/175739/built-in-way-in-javascript-to-check-if-a-string-is-a-valid-number\n\n  if (order.sort === 'ASC') {\n    results.sort((a, b) => {\n      if (isNumeric(a[order.column])) {\n        return a[order.column] - b[order.column];\n      }\n      return a[order.column].localeCompare(b[order.column]);\n    });\n  }\n\n  if (order.sort === 'DESC') {\n    results.sort((a, b) => {\n      if (isNumeric(a[order.column])) {\n        return b[order.column] - a[order.column];\n      }\n      return b[order.column].localeCompare(a[order.column]);\n    });\n  }\n\n  return (\n    <div>\n      <select data-testid=\"column-sort\" onChange={ handleOrder } name=\"column\">\n        { Object.keys(planets[0]).map((planetInfo) => (\n          planetInfo !== 'residents' ? <option key={ planetInfo }>{planetInfo}</option>\n            : null\n        )) }\n      </select>\n      <input\n        type=\"radio\"\n        name=\"sort\"\n        value=\"ASC\"\n        data-testid=\"column-sort-input-asc\"\n        onChange={ handleOrder }\n      />\n      Ascendente\n      <input\n        type=\"radio\"\n        name=\"sort\"\n        value=\"DESC\"\n        data-testid=\"column-sort-input-desc\"\n        onChange={ handleOrder }\n      />\n      Descendente\n      <button type=\"button\" data-testid=\"column-sort-button\"> Ordenar </button>\n    </div>\n  );\n}\n","import React, { useContext, useState } from 'react';\nimport MyContext from '../context';\nimport DeleteFilters from './DeleteFilters';\nimport Order from './Order';\n\nexport default function FilterNumericValues() {\n  const { filterContext: { filters: { filterByNumericValues } } } = useContext(MyContext);\n\n  const { filterContext:\n    { filters:\n      { setColumn,\n        setComparison,\n        setValue,\n        setFilterByNumericValues,\n        numericValues } } } = useContext(MyContext);\n\n  const columns = ['population',\n    'orbital_period', 'diameter', 'rotation_period', 'surface_water'];\n  const comparisons = ['maior que', 'menor que', 'igual a'];\n  const [col, setCol] = useState(columns);\n\n  const handleChange = ({ target: { name, value } }) => {\n    if (name === 'column') {\n      setColumn(value);\n    }\n    if (name === 'comparison') {\n      setComparison(value);\n    }\n    if (name === 'valor') {\n      setValue(value);\n    }\n  };\n\n  const filterColumns = (colun) => {\n    const newColumns = columns.filter((coluna) => coluna !== colun);\n    setCol(newColumns);\n  };\n\n  const handleClick = () => {\n    const { column, comparison, value } = numericValues;\n    setFilterByNumericValues(\n      [\n        ...filterByNumericValues,\n        {\n          column,\n          comparison,\n          value,\n        },\n      ],\n    );\n    filterColumns(column);\n  };\n\n  return (\n    <div>\n      <select onChange={ handleChange } data-testid=\"column-filter\" name=\"column\">\n        {col.map((c) => <option key={ c } value={ c }>{c}</option>)}\n      </select>\n      <select data-testid=\"comparison-filter\" name=\"comparison\" onChange={ handleChange }>\n        {comparisons.map((comp) => <option value={ comp } key={ comp }>{comp}</option>)}\n      </select>\n      <input\n        type=\"number\"\n        data-testid=\"value-filter\"\n        name=\"valor\"\n        onChange={ handleChange }\n      />\n      <button\n        type=\"button\"\n        data-testid=\"button-filter\"\n        onClick={ handleClick }\n      >\n        Filtrar\n      </button>\n      <Order />\n      <DeleteFilters />\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport MyContext from '../context';\n\nexport default function FilterPlanetsByInput() {\n  const { filterContext:\n    { filters: { filterByName: { setName } } } } = useContext(MyContext);\n\n  const handleChange = ({ target: { value } }) => {\n    setName(value);\n  };\n\n  return (\n    <div>\n      <input\n        data-testid=\"name-filter\"\n        type=\"text\"\n        onChange={ handleChange }\n      />\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function Planets({ planets }) {\n  return (\n    planets.map((result) => (\n      <tr key={ result.name }>\n        <td data-testid=\"planet-name\">{result.name}</td>\n        <td>{result.rotation_period}</td>\n        <td>{result.orbital_period}</td>\n        <td>{result.diameter}</td>\n        <td>{result.climate}</td>\n        <td>{result.gravity}</td>\n        <td>{result.terrain}</td>\n        <td>{result.surface_water}</td>\n        <td>{result.population}</td>\n        <td>{result.films}</td>\n        <td>{result.created}</td>\n        <td>{result.edited}</td>\n        <td>{result.url}</td>\n      </tr>\n    ))\n  );\n}\n","import React, { useContext } from 'react';\nimport MyContext from '../context';\nimport Planets from './Planets';\n\nexport default function TableBody() {\n  const { state: { results }, filterContext:\n    { filters:\n      { filterByName: { name }, filterByNumericValues } } } = useContext(MyContext);\n\n  const planets = () => {\n    if (name) {\n      return results.filter((planet) => planet.name.toLowerCase()\n        .includes(name.toLowerCase()));\n    }\n    if (filterByNumericValues.length > 0) {\n      return filterByNumericValues.reduce((accumulator, current) => {\n        const { comparison, column, value } = current;\n        if (comparison === 'maior que') {\n          accumulator = results\n            .filter((planet) => Number(planet[column]) > Number(value));\n        }\n        if (comparison === 'menor que') {\n          accumulator = results\n            .filter((planet) => Number(planet[column]) < Number(value));\n        }\n        if (comparison === 'igual a') {\n          accumulator = results\n            .filter((planet) => Number(planet[column]) === Number(value));\n        }\n        return accumulator;\n      }, [results]);\n    }\n    return results;\n  };\n\n  return (\n    <Planets planets={ planets() } />\n  );\n}\n","import React, { useContext } from 'react';\nimport MyContext from '../context';\n\nexport default function TableHeader() {\n  const { state: { results } } = useContext(MyContext);\n  return (\n    <tr>\n      { Object.keys(results[0]).map((result) => (\n        result !== 'residents' ? <th key={ result }>{result}</th> : null\n      )) }\n    </tr>\n  );\n}\n","import React, { useContext } from 'react';\nimport MyContext from '../context';\nimport FilterNumericValues from './FilterNumericValues';\nimport FilterPlanetsByInput from './FilterPlanetsInput';\nimport TableBody from './TableBody';\nimport TableHeader from './TableHeader';\n\nexport default function Table() {\n  const { loading } = useContext(MyContext);\n\n  if (loading) return <h1>Loading...</h1>;\n\n  return (\n    <>\n      <FilterPlanetsByInput />\n      <FilterNumericValues />\n      <table>\n        <TableHeader />\n        <TableBody />\n      </table>\n    </>\n  );\n}\n","import React from 'react';\nimport Table from '../components/Table';\n\nexport default function HomePage() {\n  return (\n    <Table />\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport MyContext from '.';\n\nfunction Provider({ children }) {\n  const URL = 'https://swapi-trybe.herokuapp.com/api/planets/';\n  const [state, setState] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [name, setName] = useState('');\n  const [column, setColumn] = useState('population');\n  const [comparison, setComparison] = useState('maior que');\n  const [value, setValue] = useState(0);\n  const [filterByNumericValues, setFilterByNumericValues] = useState([]);\n  const [order, setOrder] = useState({\n    column: 'name',\n    sort: 'ASC',\n  });\n  const [result, setResult] = useState([]);\n\n  const filterContext = {\n    filters: {\n      filterByName: {\n        name,\n        setName,\n      },\n      filterByNumericValues,\n      numericValues:\n        {\n          column,\n          comparison,\n          value,\n        },\n      order,\n      result,\n      setOrder,\n      setColumn,\n      setComparison,\n      setValue,\n      setFilterByNumericValues,\n\n    },\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    const swPlanets = async () => {\n      const response = await fetch(URL)\n        .then((res) => res.json());\n      setState(response);\n      setResult(response);\n      setLoading(false);\n    };\n    swPlanets();\n  }, []);\n\n  return (\n    <MyContext.Provider value={ { state, loading, filterContext } }>\n      {children}\n    </MyContext.Provider>\n  );\n}\n\nProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Provider;\n","import React from 'react';\nimport './App.css';\nimport HomePage from './pages/HomePage';\nimport Provider from './context/Provider';\nimport { BrowserRouter } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Provider>\n        <HomePage />\n      </Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}